CREATE DATABASE IF NOT EXISTS company_db;
USE company_db;
DROP TABLE IF EXISTS CLIENT_MASTER;
DROP TABLE IF EXISTS PRODUCT_MASTER;
DROP TABLE IF EXISTS SALESMAN_MASTER;

CREATE TABLE CLIENT_MASTER (
    CLIENT_NO VARCHAR(6) CHECK (CLIENT_NO LIKE 'C%'),
    NAME VARCHAR(20) NOT NULL,
    ADDRESS1 VARCHAR(30),
    ADDRESS2 VARCHAR(30),
    CITY VARCHAR(15),
    PINCODE INTEGER,
    STATE VARCHAR(15),
    BAL_DUE DECIMAL(10,2),
    PRIMARY KEY (CLIENT_NO)
);
CREATE TABLE PRODUCT_MASTER (
    PRODUCT_NO VARCHAR(6) CHECK (PRODUCT_NO LIKE 'P%'),
    DESCRIPTION VARCHAR(15) NOT NULL,
    PROFIT_PERCENT DECIMAL(4,2) NOT NULL,
    UNIT_MEASURE VARCHAR(10) NOT NULL,
    QTY_ON_HAND INTEGER NOT NULL,
    REORDER_LVL INTEGER NOT NULL,
    SELL_PRICE DECIMAL(8,2) NOT NULL,
    COST_PRICE DECIMAL(8,2) NOT NULL,
    PRIMARY KEY (PRODUCT_NO)
);
CREATE TABLE SALESMAN_MASTER (
    SALESMAN_NO VARCHAR(6) CHECK (SALESMAN_NO LIKE 'S%'),
    SALESMAN_NAME VARCHAR(20) NOT NULL,
    ADDRESS1 VARCHAR(30) NOT NULL,
    ADDRESS2 VARCHAR(30),
    CITY VARCHAR(20),
    PINCODE INTEGER,
    STATE VARCHAR(20),
    SAL_AMT DECIMAL(8,2) NOT NULL CHECK (SAL_AMT != 0),
    TGTTOGET DECIMAL(6,2) NOT NULL CHECK (TGTTOGET != 0),
    YTDSALES DECIMAL(6,2) NOT NULL,
    REMARKS VARCHAR(60),
    PRIMARY KEY (SALESMAN_NO)
);

INSERT INTO CLIENT_MASTER (CLIENT_NO, NAME, CITY, PINCODE, STATE, BAL_DUE) VALUES
('C00001', 'Ivan bayross', 'Mumbai', 400054, 'Maharashtra', 15000),
('C00002', 'Mamta muzumdar', 'Madras', 780001, 'Tamil nadu', 0),
('C00003', 'Chhaya bankar', 'Mumbai', 400057, 'Maharashtra', 5000),
('C00004', 'Ashwini joshi', 'Bangalore', 560001, 'Karnataka', 0),
('C00005', 'Hansel colaco', 'Mumbai', 400060, 'Maharashtra', 2000),
('C00006', 'Deepak sharma', 'Mangalore', 560050, 'Karnataka', 0);

INSERT INTO PRODUCT_MASTER (PRODUCT_NO, DESCRIPTION, PROFIT_PERCENT, UNIT_MEASURE, QTY_ON_HAND, REORDER_LVL, SELL_PRICE, COST_PRICE) VALUES
('P00001', 'T-Shirt', 5, 'Piece', 200, 50, 350, 250),
('P03453', 'Shirts', 6, 'Piece', 150, 50, 500, 350),
('P06734', 'Cotton jeans', 5, 'Piece', 100, 20, 600, 450),
('P07865', 'Jeans', 5, 'Piece', 100, 20, 750, 500),
('P07868', 'Trousers', 2, 'Piece', 150, 50, 850, 550),
('P07885', 'Pull Overs', 2.5, 'Piece', 80, 30, 700, 450),
('P07965', 'Denim jeans', 4, 'Piece', 100, 40, 350, 250),
('P07975', 'Lycra tops', 5, 'Piece', 70, 30, 300, 175),
('P08865', 'Skirts', 5, 'Piece', 75, 30, 450, 300);

INSERT INTO SALESMAN_MASTER (SALESMAN_NO, SALESMAN_NAME, ADDRESS1, ADDRESS2, CITY, PINCODE, STATE, SAL_AMT, TGTTOGET, YTDSALES, REMARKS) VALUES
('S00001', 'Aman', 'A/14', 'Worli', 'Mumbai', 400002, 'Maharashtra', 3000, 100, 50, NULL),
('S00002', 'Omkar', '65', 'Nariman', 'Mumbai', 400001, 'Maharashtra', 3000, 200, 100, NULL),
('S00003', 'Raj', 'P-7', 'Bandra', 'Mumbai', 400032, 'Maharashtra', 3500, 200, 100, NULL),
('S00004', 'Ashish', 'A/5', 'Juhu', 'Mumbai', 400044, 'Maharashtra', 3500, 150, 80, NULL);

SELECT NAME FROM CLIENT_MASTER;
SELECT * FROM CLIENT_MASTER;
SELECT NAME, CITY, STATE FROM CLIENT_MASTER;
SELECT DESCRIPTION FROM PRODUCT_MASTER;
SELECT * FROM CLIENT_MASTER WHERE CITY = 'Mumbai';
SELECT SALESMAN_NAME FROM SALESMAN_MASTER WHERE SAL_AMT = 3000;

UPDATE CLIENT_MASTER SET CITY = 'Bangalore' WHERE CLIENT_NO = 'C00005';
UPDATE CLIENT_MASTER SET BAL_DUE = 1000 WHERE CLIENT_NO = 'C00001';
UPDATE PRODUCT_MASTER SET COST_PRICE = 950 WHERE DESCRIPTION = 'Trousers';
UPDATE SALESMAN_MASTER SET CITY = 'Pune';

DELETE FROM SALESMAN_MASTER WHERE SAL_AMT = 3500;
DELETE FROM PRODUCT_MASTER WHERE QTY_ON_HAND = 100;
DELETE FROM CLIENT_MASTER WHERE STATE = 'Tamil nadu';

ALTER TABLE CLIENT_MASTER ADD TELEPHONE INTEGER;
ALTER TABLE PRODUCT_MASTER MODIFY SELL_PRICE DECIMAL(10,2) NOT NULL;

DROP TABLE CLIENT_MASTER;
SELECT * FROM PRODUCT_MASTER;
SELECT * FROM SALESMAN_MASTER;